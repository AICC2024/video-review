{"ast":null,"code":"var _jsxFileName = \"/Users/paulminton/development/video-review/video_review_backend/video_review_frontend/src/components/PreviousCommentsPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PreviousCommentsPanel = ({\n  previousVideoId,\n  onClose\n}) => {\n  _s();\n  const [comments, setComments] = useState([]);\n  useEffect(() => {\n    const fetchPreviousComments = async () => {\n      if (!previousVideoId) return;\n      try {\n        const res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/comments/${previousVideoId}`);\n        const sorted = [...(res.data || [])].sort((a, b) => {\n          var _a$page, _b$page;\n          const pageA = (_a$page = a.page) !== null && _a$page !== void 0 ? _a$page : -1;\n          const pageB = (_b$page = b.page) !== null && _b$page !== void 0 ? _b$page : -1;\n          if (pageA !== pageB) return pageA - pageB;\n          const timeA = parseFloat(a.timestamp) || 0;\n          const timeB = parseFloat(b.timestamp) || 0;\n          return timeA - timeB;\n        });\n        setComments(sorted);\n      } catch (err) {\n        console.error(\"Failed to load previous comments:\", err);\n      }\n    };\n    fetchPreviousComments();\n  }, [previousVideoId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"fixed\",\n      top: 0,\n      right: 0,\n      width: \"350px\",\n      height: \"100vh\",\n      backgroundColor: \"#f3f3f3\",\n      borderLeft: \"1px solid #ccc\",\n      boxShadow: \"-2px 0 6px rgba(0,0,0,0.1)\",\n      padding: \"1rem\",\n      zIndex: 9998,\n      overflowY: \"auto\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"1rem\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: 0\n        },\n        children: \"\\uD83D\\uDDC2 Previous Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        style: {\n          fontSize: \"1.25rem\",\n          border: \"none\",\n          background: \"none\",\n          cursor: \"pointer\"\n        },\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), comments.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"#666\"\n      },\n      children: [\"No comments found for \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: previousVideoId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 60\n      }, this), \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0,\n        margin: 0\n      },\n      children: comments.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: \"1rem\",\n          backgroundColor: \"#fff\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"4px\",\n          padding: \"0.75rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          style: {\n            display: \"block\",\n            marginBottom: \"0.25rem\"\n          },\n          children: c.page ? `ðŸ“„ Page ${c.page}` : `${c.timestamp} seconds`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            whiteSpace: \"pre-wrap\",\n            color: \"#333\"\n          },\n          children: c.comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: \"0.85rem\",\n            color: \"#666\",\n            marginTop: \"0.25rem\"\n          },\n          children: [\"\\u2014 \", c.user]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, c.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(PreviousCommentsPanel, \"ByfV/t0DOiJY0nGyfgV+6QjIggQ=\");\n_c = PreviousCommentsPanel;\nexport default PreviousCommentsPanel;\nvar _c;\n$RefreshReg$(_c, \"PreviousCommentsPanel\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","PreviousCommentsPanel","previousVideoId","onClose","_s","comments","setComments","fetchPreviousComments","res","get","process","env","REACT_APP_BACKEND_URL","sorted","data","sort","a","b","_a$page","_b$page","pageA","page","pageB","timeA","parseFloat","timestamp","timeB","err","console","error","style","position","top","right","width","height","backgroundColor","borderLeft","boxShadow","padding","zIndex","overflowY","display","flexDirection","children","marginBottom","justifyContent","alignItems","margin","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fontSize","border","background","cursor","length","color","listStyle","map","c","borderRadius","whiteSpace","comment","marginTop","user","id","_c","$RefreshReg$"],"sources":["/Users/paulminton/development/video-review/video_review_backend/video_review_frontend/src/components/PreviousCommentsPanel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst PreviousCommentsPanel = ({ previousVideoId, onClose }) => {\n  const [comments, setComments] = useState([]);\n\n  useEffect(() => {\n    const fetchPreviousComments = async () => {\n      if (!previousVideoId) return;\n      try {\n        const res = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/comments/${previousVideoId}`);\n        const sorted = [...(res.data || [])].sort((a, b) => {\n          const pageA = a.page ?? -1;\n          const pageB = b.page ?? -1;\n          if (pageA !== pageB) return pageA - pageB;\n          const timeA = parseFloat(a.timestamp) || 0;\n          const timeB = parseFloat(b.timestamp) || 0;\n          return timeA - timeB;\n        });\n        setComments(sorted);\n      } catch (err) {\n        console.error(\"Failed to load previous comments:\", err);\n      }\n    };\n    fetchPreviousComments();\n  }, [previousVideoId]);\n\n  return (\n    <div style={{\n      position: \"fixed\",\n      top: 0,\n      right: 0,\n      width: \"350px\",\n      height: \"100vh\",\n      backgroundColor: \"#f3f3f3\",\n      borderLeft: \"1px solid #ccc\",\n      boxShadow: \"-2px 0 6px rgba(0,0,0,0.1)\",\n      padding: \"1rem\",\n      zIndex: 9998,\n      overflowY: \"auto\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    }}>\n      <div style={{ marginBottom: \"1rem\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <h3 style={{ margin: 0 }}>ðŸ—‚ Previous Comments</h3>\n        <button onClick={onClose} style={{ fontSize: \"1.25rem\", border: \"none\", background: \"none\", cursor: \"pointer\" }}>Ã—</button>\n      </div>\n      {comments.length === 0 ? (\n        <p style={{ color: \"#666\" }}>No comments found for <strong>{previousVideoId}</strong>.</p>\n      ) : (\n        <ul style={{ listStyle: \"none\", padding: 0, margin: 0 }}>\n          {comments.map((c) => (\n            <li key={c.id} style={{\n              marginBottom: \"1rem\",\n              backgroundColor: \"#fff\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"4px\",\n              padding: \"0.75rem\"\n            }}>\n              <strong style={{ display: \"block\", marginBottom: \"0.25rem\" }}>\n                {c.page ? `ðŸ“„ Page ${c.page}` : `${c.timestamp} seconds`}\n              </strong>\n              <div style={{ whiteSpace: \"pre-wrap\", color: \"#333\" }}>\n                {c.comment}\n              </div>\n              <div style={{ fontSize: \"0.85rem\", color: \"#666\", marginTop: \"0.25rem\" }}>\n                â€” {c.user}\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default PreviousCommentsPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}